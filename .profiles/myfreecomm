#!/usr/bin/env
alias cdm='cd ${HOME}/projects/myfinance/src/'
alias fs='bundle exec foreman start -f Procfile.development'
alias fsw='bundle exec foreman start worker -f Procfile.development'
alias integrate='RAILS_ENV=test time rake integrate && echo "NICE! Agora buzine duas vezes e apague o branch que vc integrou rapazinho!"'
alias rdbr='bundle exec rake db:data:reset; rake db:test:prepare;'
alias rdbdr='bundle exec rake drop; rake db:setup; rake db:data:reset; rake db:test:prepare;'
alias bfs='bundle && fs'
alias specall='bundle exec rake db:migrate db:test:prepare && RAILS_ENV=test time bundle exec rspec spec/models/* && RAILS_ENV=test time bundle exec rspec spec/controllers/* && RAILS_ENV=test time bundle exec rspec spec/helpers/* spec/routing/* spec/lib/* spec/mailers/* spec/workers/* spec/reports/* && RAILS_ENV=test time bundle exec rake spec:javascript && RAILS_ENV=test time bundle exec rspec features/*_spec.rb'
alias spec-without-mc='bundle exec rake db:migrate db:test:prepare && RAILS_ENV=test time bundle exec rspec spec/helpers/* spec/routing/* spec/lib/* spec/mailers/* spec/workers/* spec/reports/* && RAILS_ENV=test time bundle exec rake spec:javascript && RAILS_ENV=test time bundle exec rspec features/*_spec.rb'
alias spec-mc='bundle exec rake db:migrate db:test:prepare && RAILS_ENV=test time bundle exec rspec spec/models/* && RAILS_ENV=test time bundle exec rspec spec/controllers/*'
alias gbdm='git branch -d $(git branch --merged | grep -v "\*\|deploy$")'
alias watch-asg-sandbox='watch -n 5 as-describe-auto-scaling-groups myfinance-sandbox-ASG-4LAO6AJJ3JW7'
alias watch-elb-sandbox='watch -n 5 elb-describe-instance-health myfinance-sand-ELB-1V2F0MY0KS8BS'
alias watch-asg-production='watch -n 5 as-describe-auto-scaling-groups myfinance-production-ASG-WK63242C95K7'
alias watch-elb-production='watch -n 5 elb-describe-instance-health myfinance-prod-ELB-10E1045ZCLZ8Z'
alias depisandbox='echo "@all fazendo deploy do app myfinance para sandbox a partir do branch $(git rev-parse --symbolic-full-name --abbrev-ref HEAD) em $(git rev-parse HEAD)" | pbcopy'
alias depiproduction='echo "@all fazendo deploy do app myfinance para production a partir do branch deploy em $(git rev-parse HEAD)" | pbcopy'

export MYFINANCE_HOME="${HOME}/projects/myfinance"
export JAVA_HOME=$(readlink -f /usr/bin/javac | sed "s:bin/javac::")

loadfile $HOME/.certmanrc
